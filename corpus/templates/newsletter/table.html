<div class="flex justify-center flex-col mb-6">
    <div class="overflow-x-auto sm:-mx-6 lg:-mx-8">
      <div class="flex justify-center min-w-full py-2 sm:px-6 lg:px-8">
        <div class="overflow-hidden">
          <table class="min-w-1/2 text-left font-light text-surface dark:text-white">
            <thead class="border-b border-neutral-200 font-medium dark:border-white/10">
              <tr>
                <th scope="col" class="text-2xl px-6 py-4">#</th>
                <th scope="col" class="text-2xl px-6 py-4">Title</th>
                {% if type == "announcement" %}
                    <th scope="col" class="text-2xl px-6 py-4">Start Date</th>
                    <th scope="col" class="text-2xl px-6 py-4">End Date</th>
                    <th scope="col" class="text-2xl px-6 py-4">Timing</th>
                    <th scope="col" class="text-2xl px-6 py-4">Link</th>
                {% elsif type == "event" %}
                    <th scope="col" class="text-2xl px-6 py-4">Date</th>
                    <th scope="col" class="text-2xl px-6 py-4">Date</th>
                {% endif %}
                <th scope="col" class="text-2xl px-6 py-4">Archived?</th>
                <th scope="col" class="text-2xl px-6 py-4">Actions</th>
              </tr>
            </thead>
            <tbody>
              {% for item in newsletter_items %}
              <tr class="border-b border-neutral-200 dark:border-white/10">
                <td class="whitespace-nowrap px-6 py-4 font-medium">{{ forloop.counter }}</td>
                <td class="whitespace-nowrap px-6 py-4">{{ item.title }}</td>
                {% if type == "announcement" %}
                    <td class="whitespace-nowrap px-6 py-4">{{ item.start_date }}</td>
                    <td class="whitespace-nowrap px-6 py-4">{{ item.end_date }}</td>
                    <td class="whitespace-nowrap px-6 py-4">{{ item.timing }}</td>
                {% elsif type == "event" %}
                    <td class="whitespace-nowrap px-6 py-4">{{ item.date }}</td>
                    <td class="whitespace-nowrap px-6 py-4">
                        <img src="{{ item.image.url }}" class="w-[50] h-[50]">
                    </td>
                {% endif }
                <td class="whitespace-nowrap px-6 py-4">{{ item.archived }}</td>
                <td class="whitespace-nowrap px-6 py-4">
                  <a href="{{ announcement.link }}" class="btn btn-accent" target="_blank">Go to Link</a>
                </td>
                <td class="whitespace-nowrap flex gap-3 px-6 py-4">
                  <a href="{% url 'newsletter_edit_announcement' announcement.id %}" class="btn btn-secondary">Edit</a>
                  {% if announcement.archived %}
                  <form action="{% url 'newsletter_edit_announcement' announcement.id %}?archive=false"  method="post">
                      {% csrf_token %}
                      <button type="submit" class="btn btn-warning">Unarchive</button>
                  </form>
                  {% else %}
                  <form action="{% url 'newsletter_edit_announcement' announcement.id %}?archive=true"  method="post">
                      {% csrf_token %}
                      <button type="submit" class="btn btn-warning">Archive</button>
                  </form>
                  {% endif %}
                  <form action="{% url 'newsletter_delete_announcement' announcement.id %}"  method="post">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-primary">Delete</button>
                  </form>
                </td>
              </tr>
              {% empty %}
              <tr>
                <td colspan="7" class="text-center py-4 text-gray-500">No announcements found.</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>