{% extends 'newsletter/base.html' %}
{% block content %}
<style>
    img {
        transition: transform 0.3s ease, opacity 0.3s ease;
    }

    img:hover {
        transform: scale(1.1);
        opacity: 0.7;
    }

    img:active {
        transform: scale(1.05);
        opacity: 0.6;
    }

    .scrollbar-hide::-webkit-scrollbar {
        display: none;
        /* Hides the scrollbar in webkit browsers */
    }

    .scrollbar-hide {
        -ms-overflow-style: none;
        /* Hides scrollbar in IE and Edge */
        scrollbar-width: none;
        /* Hides scrollbar in Firefox */
    }

    .post-bar:hover {
        transform: scale(1.1);
        transition: transform 0.3s ease;
    }

    .post-bar {
        transition: transform 0.3s ease;
    }
</style>
{% include 'newsletter/header.html' %}
<div class="flex justify-center gap-3">
    <section class="bg-base-300 my-10 px-10 shadow-xl rounded-lg">
        <h1 class="text-center my-10 text-4xl lg:text-5xl w-full">What's New?</h1>
        <div class="m-10 p-10 max-h-96 overflow-y-auto scrollbar-hide">
            {% for post in posts %}
            <a href="{% url 'show_event' post.event.id %}"
                class="post-bar indicator py-10 my-3 px-10 w-full border border-blue-300 rounded-lg">
                {% if post.new %}<span class="indicator-item badge badge-accent">new</span> {% endif %}
                <h2 class="text-2xl lg:text-3xl w-full">{{ post.event.title }}</h2>
                <p>{{ post.date }}</p>
            </a>
            {% endfor %}
        </div>
    </section>
    <section class="bg-base-300 text-center shadow-xl prose my-10 px-10 rounded-lg">
        <h1 class="my-10 text-4xl lg:text-5xl">Upcoming Events</h1>
        <div class="carousel w-full h-96">
            {% for post in upcoming_events_posts %}
            <div id="slide{{ forloop.counter }}" class="carousel-item flex justify-center relative w-full h-full">
                <div class="absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between">
                    <a href="#slide{{ forloop.counter|add:-1 }}" class="btn btn-circle">❮</a>
                    <a href="#slide{{ forloop.counter|add:1 }}" class="btn btn-circle">❯</a>
                </div>
                <div class="flex justify-center items-center h-full">
                    <div class="card bg-base-300 w-full rounded-lg">
                        {% if post.image %}
                        <div class="relative">
                            <a href="{% url 'show_event' post.event.id %}">
                                <img src="{{ post.image.url }}" class="w-full h-72 object-cover shadow-xl rounded-lg" />
                            </a>
                        </div>
                        {% else %}
                        <figure class="mt-3 mb-0 text-secondary">
                            {% if post.event.society.first.sigs.first.name == "Diode" %}
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
                                class="h-12">
                                <path
                                    d="M11.983 1.907a.75.75 0 00-1.292-.657l-8.5 9.5A.75.75 0 002.75 12h6.572l-1.305 6.093a.75.75 0 001.292.657l8.5-9.5A.75.75 0 0017.25 8h-6.572l1.305-6.093z" />
                            </svg>
                            {% elif post.event.society.first.sigs.first.name == "CompSoc" %}
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
                                class="h-12">
                                <path fill-rule="evenodd"
                                    d="M2 4.25A2.25 2.25 0 014.25 2h11.5A2.25 2.25 0 0118 4.25v8.5A2.25 2.25 0 0115.75 15h-3.105a3.501 3.501 0 001.1 1.677A.75.75 0 0113.26 18H6.74a.75.75 0 01-.484-1.323A3.501 3.501 0 007.355 15H4.25A2.25 2.25 0 012 12.75v-8.5zm1.5 0a.75.75 0 01.75-.75h11.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75H4.25a.75.75 0 01-.75-.75v-7.5z"
                                    clip-rule="evenodd" />
                            </svg>
                            {% elif post.event.society.first.sigs.first.name == "Piston" %}
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
                                class="h-12">
                                <path
                                    d="M13.024 9.25c.47 0 .827-.433.637-.863a4 4 0 00-4.094-2.364c-.468.05-.665.576-.43.984l1.08 1.868a.75.75 0 00.649.375h2.158zM7.84 7.758c-.236-.408-.79-.5-1.068-.12A3.982 3.982 0 006 10c0 .884.287 1.7.772 2.363.278.38.832.287 1.068-.12l1.078-1.868a.75.75 0 000-.75L7.839 7.758zM9.138 12.993c-.235.408-.039.934.43.984a4 4 0 004.094-2.364c.19-.43-.168-.863-.638-.863h-2.158a.75.75 0 00-.65.375l-1.078 1.868z" />
                                <path fill-rule="evenodd"
                                    d="M14.13 4.347l.644-1.117a.75.75 0 00-1.299-.75l-.644 1.116a6.954 6.954 0 00-2.081-.556V1.75a.75.75 0 00-1.5 0v1.29a6.954 6.954 0 00-2.081.556L6.525 2.48a.75.75 0 10-1.3.75l.645 1.117A7.04 7.04 0 004.347 5.87L3.23 5.225a.75.75 0 10-.75 1.3l1.116.644A6.954 6.954 0 003.04 9.25H1.75a.75.75 0 000 1.5h1.29c.078.733.27 1.433.556 2.081l-1.116.645a.75.75 0 10.75 1.298l1.117-.644a7.04 7.04 0 001.523 1.523l-.645 1.117a.75.75 0 101.3.75l.644-1.116a6.954 6.954 0 002.081.556v1.29a.75.75 0 001.5 0v-1.29a6.954 6.954 0 002.081-.556l.645 1.116a.75.75 0 001.299-.75l-.645-1.117a7.042 7.042 0 001.523-1.523l1.117.644a.75.75 0 00.75-1.298l-1.116-.645a6.954 6.954 0 00.556-2.081h1.29a.75.75 0 000-1.5h-1.29a6.954 6.954 0 00-.556-2.081l1.116-.644a.75.75 0 00-.75-1.3l-1.117.645a7.04 7.04 0 00-1.524-1.523zM10 4.5a5.475 5.475 0 00-2.781.754A5.527 5.527 0 005.22 7.277 5.475 5.475 0 004.5 10a5.475 5.475 0 00.752 2.777 5.527 5.527 0 002.028 2.004c.802.458 1.73.719 2.72.719a5.474 5.474 0 002.78-.753 5.527 5.527 0 002.001-2.027c.458-.802.719-1.73.719-2.72a5.475 5.475 0 00-.753-2.78 5.528 5.528 0 00-2.028-2.002A5.475 5.475 0 0010 4.5z"
                                    clip-rule="evenodd" />
                            </svg>
                            {% endif %}
                        </figure>
                        <div class="card-body items-center text-center">
                            <h2 class="card-title my-4 text-3xl">{{ post.event.title }}</h2>
                            <p>{{ post.event.description }}</p>
                            <div class="card-actions mt-3">
                                <a role="button" href="{% url 'show_event' post.event.id %}"
                                    class="btn btn-outline btn-primary">Learn More</a>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>

            {% endfor %}
        </div>

    </section>
</div>
</div>
<div class="mx-10 mb-10 mt-3 p-10 bg-base-300"> 
    <div class="mb-5 text-center text-4xl lg:text-5xl">Recent Events</div>
    <div class="flex justify-center">
        <div class="carousel h-3/4 w-1/2">
            {% for post in completed_events_posts %}
            <div id="completedslide{{ forloop.counter }}" class="carousel-item relative w-full">
            <img
                src="{{ post.image.url }}"
                class="w-full max-h-3/4 rounded-xl" />
            <div class="absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between">
                <a href="#completedslide{{ forloop.counter|add:-1 }}" class="btn btn-circle">❮</a>
                <a href="#completedslide{{ forloop.counter|add:1 }}" class="btn btn-circle">❯</a>
            </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

{% endblock %}